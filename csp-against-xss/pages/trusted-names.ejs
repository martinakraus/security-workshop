<html>
<body>
<h3>List of names</h3>
<ul>
    <li id="martina">Martina</li>
    <li id="timo">Timo</li>
    <li>Lenny</li>
    <li>Raupy</li>
</ul>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.2.7/purify.min.js"></script>
<script>
    let maliciousCode = '<img src=x onerror=alert(1)>'
    let escaped = maliciousCode;

    // 1. Creating custom Policy
    /*if (window.trustedTypes && trustedTypes.createPolicy) { // Feature testing
        const escapeHTMLPolicy = trustedTypes.createPolicy('myEscapePolicy', {
            createHTML: text => text.replace(/\</g, '&lt;')
        });

        escaped = escapeHTMLPolicy.createHTML(maliciousCode)
    }*/

    // 2. Using DOMPurify
   /* if (window.trustedTypes && trustedTypes.createPolicy) { // Feature testing
        escaped = DOMPurify.sanitize(maliciousCode, {RETURN_TRUSTED_TYPE: true})
    }*/

    document.getElementById('martina').innerHTML = escaped;
</script>
<script src="js/legitimate.js"></script>
</body>
</html>

